<!-- CART -->
<dialog id="cart-modal" aria-labelledby="cart-title" aria-modal="true">
  <form method="dialog" class="modal-card" role="document">
    <header class="modal-head">
      <h3 id="cart-title">Your Cart</h3>
      <button aria-label="Close cart" value="close" class="icon-btn" type="submit">✕</button>
    </header>

    <div id="cart-items" class="modal-body" role="list"></div>

    <footer class="modal-foot">
      <div class="total" aria-live="polite">Total: ₹<span id="cart-total">0</span></div>
      <button id="checkout" type="button" class="btn btn-primary">Checkout (Razorpay UPI)</button>
    </footer>
  </form>
</dialog>

<!-- ADMIN -->
<dialog id="admin-modal" aria-labelledby="admin-title" aria-modal="true">
  <form method="dialog" class="modal-card" role="document">
    <header class="modal-head">
      <h3 id="admin-title">Admin Panel</h3>
      <button aria-label="Close admin" value="close" class="icon-btn" type="submit">✕</button>
    </header>

    <section id="admin-login-section" class="modal-body" aria-describedby="admin-login-help">
      <h4 class="mb-1">Login</h4>
      <p id="admin-login-help" class="small muted">
        Enter your admin credentials to access the panel.
      </p>

      <form id="admin-login-form" class="stack gap-2" novalidate>
        <label>Username 
          <input id="admin-username" name="username" autocomplete="username" required aria-describedby="username-help" />
        </label>
        <span id="username-help" class="sr-only">Enter your admin username</span>
        
        <label>Password 
          <input id="admin-password" name="password" type="password" autocomplete="current-password" required aria-describedby="password-help" />
        </label>
        <span id="password-help" class="sr-only">Enter your admin password</span>
        
        <button class="btn btn-primary" type="submit" id="admin-login-btn" aria-describedby="login-feedback">
          Login
        </button>
        <p id="admin-login-feedback" class="small" role="status" aria-live="polite"></p>
      </form>
    </section>

    <section id="admin-dashboard" hidden class="modal-body">
      <h4 class="mb-1">Product Management</h4>

      <form id="product-form" class="admin-form" novalidate>
        <input type="hidden" id="product-id" name="id" />
        
        <div class="form-grid">
          <label>Name 
            <input id="product-name" name="name" required minlength="2" placeholder="Enter product name" />
          </label>
          
          <label>Price (₹) 
            <input id="product-price" name="price" type="number" min="1" step="1" required placeholder="Enter price" />
          </label>
        </div>
        
        <label>Image URL 
          <input id="product-image" name="imageUrl" type="url" placeholder="Enter image URL (optional)" />
        </label>
        
        <label>Description 
          <textarea id="product-description" name="description" rows="3" required placeholder="Enter product description"></textarea>
        </label>

        <div class="form-actions">
          <button class="btn btn-primary" type="submit" id="save-product-btn">
            <span id="save-btn-text">Add Product</span>
          </button>
          <button class="btn btn-ghost" type="button" id="cancel-edit-btn" hidden>
            Cancel Edit
          </button>
          <button class="btn btn-ghost" type="button" id="logout-btn">
            Logout
          </button>
        </div>
      </form>

      <div id="admin-products" class="admin-products-list" role="list">
        <p class="loading-text">Loading products...</p>
      </div>
    </section>
  </form>
</dialog>
